# üéØ Avito Ranking Challenge

–†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –ø–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º.

–î–∞–Ω–Ω—ã–µ

Train: 7.8M —Å—Ç—Ä–æ–∫, 678K —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
Test: 335K —Å—Ç—Ä–æ–∫
Avg items/query: 11.5 –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ –∑–∞–ø—Ä–æ—Å
Target: 4.41% contact rate (–¥–∏—Å–±–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤)

**–†–µ–∑—É–ª—å—Ç–∞—Ç: NDCG@10 = 60%**

---

## üìã –ó–∞–¥–∞—á–∞

–†–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –≤ –ø–æ–∏—Å–∫–æ–≤–æ–π –≤—ã–¥–∞—á–µ —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –æ–∫–∞–∑–∞–ª–∏—Å—å –≤ —Ç–æ–ø–µ.

---

## üöÄ –†–µ—à–µ–Ω–∏–µ

**–ú–æ–¥–µ–ª—å:** CatBoost Ranker (YetiRank loss)  
**–ü—Ä–∏–∑–Ω–∞–∫–æ–≤:** 44 (BM25, match-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —Ä–∞–Ω–≥–∏)  
**–í–∞–ª–∏–¥–∞—Ü–∏—è:** 82% NDCG —Å Out-of-Fold CV

### –ö–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞
**Location match ‚Üí +49% –∫ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏** ‚Äî —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Feature Engineering
- **BM25** ‚Äî —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –Ω—É–ª—è)
- **Match-–ø—Ä–∏–∑–Ω–∞–∫–∏** ‚Äî —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏/–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏** ‚Äî –∞–≥—Ä–µ–≥–∞—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É (—á–µ—Ä–µ–∑ OOF)
- **–†–∞–Ω–≥–∏** ‚Äî –ø–æ–∑–∏—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –≤—ã–¥–∞—á–∏

### 2. Out-of-Fold CV
–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –±–µ–∑ data leakage —á–µ—Ä–µ–∑ 5-fold GroupKFold

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û–±—É—á–µ–Ω–∏–µ
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —è—á–µ–π–∫–∏ –Ω–æ—É—Ç–±—É–∫–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

### Inference (–±–µ–∑ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è)
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å —Ñ–∞–π–ª—ã: `catboost_ranker.cbm`, `model_metadata.pkl`, `test_features_processed.parquet`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ–∫—Ü–∏—é 15 –≤ –Ω–æ—É—Ç–±—É–∫–µ

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| Test NDCG@10 | 60% |
| Val NDCG | 82.09% |
| Best iteration | 918 |
| Training time | ~3 —á–∞—Å–∞ (CPU) |

---

## üéì –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+
- CatBoost
- Pandas, NumPy
- Scikit-learn (GroupKFold)

---

## üí° –î–µ—Ç–∞–ª–∏

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ EDA, feature engineering –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π ‚Äî —Å–º. –≤ –Ω–æ—É—Ç–±—É–∫–µ.
